{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\vigne\\\\OneDrive\\\\Documents\\\\ITG\\\\itkc\\\\frontend\\\\src\\\\chatbot\\\\ChatbotWindow.jsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport { sendMessageToBot } from \"./chatbotApi\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ChatbotWindow({\n  closeChat\n}) {\n  _s();\n  const [messages, setMessages] = useState([{\n    sender: \"bot\",\n    text: \"Welcome to IT Knowledge Centre üëã How can I help you?\"\n  }]);\n  const [loading, setLoading] = useState(false);\n  const [isMobile, setIsMobile] = useState(false);\n\n  // Detect screen size\n  useEffect(() => {\n    const checkScreen = () => {\n      setIsMobile(window.innerWidth <= 768);\n    };\n    checkScreen();\n    window.addEventListener(\"resize\", checkScreen);\n    return () => window.removeEventListener(\"resize\", checkScreen);\n  }, []);\n  const sendMessage = async text => {\n    setMessages(prev => [...prev, {\n      sender: \"user\",\n      text\n    }]);\n    setLoading(true);\n    try {\n      const reply = await sendMessageToBot(text);\n      setMessages(prev => [...prev, {\n        sender: \"bot\",\n        text: reply\n      }]);\n    } catch {\n      setMessages(prev => [...prev, {\n        sender: \"bot\",\n        text: \"Something went wrong. Please try again.\"\n      }]);\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card shadow\",\n    style: {\n      position: \"fixed\",\n      bottom: isMobile ? \"0\" : \"90px\",\n      right: isMobile ? \"0\" : \"20px\",\n      width: isMobile ? \"100%\" : \"360px\",\n      height: isMobile ? \"90vh\" : \"500px\",\n      borderRadius: isMobile ? \"0\" : \"12px\",\n      zIndex: 1100\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card-header bg-primary text-white d-flex justify-content-between align-items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"ITKC Assistant\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-sm btn-light\",\n        onClick: closeChat,\n        children: \"\\u2715\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card-body\",\n      style: {\n        overflowY: \"auto\",\n        paddingBottom: \"80px\"\n      },\n      children: [messages.map((msg, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `d-flex mb-2 ${msg.sender === \"user\" ? \"justify-content-end\" : \"justify-content-start\"}`,\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: `px-3 py-2 rounded ${msg.sender === \"user\" ? \"bg-primary text-white\" : \"bg-light\"}`,\n          style: {\n            maxWidth: \"80%\"\n          },\n          children: msg.text\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 13\n        }, this)\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }, this)), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-muted fst-italic\",\n        children: \"ITKC Assistant is typing...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-outline-primary w-100 mb-2\",\n          onClick: () => sendMessage(\"courses\"),\n          children: \"\\uD83D\\uDCD8 Courses\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-outline-primary w-100 mb-2\",\n          onClick: () => sendMessage(\"certificate\"),\n          children: \"\\uD83C\\uDF93 Certificates\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-outline-primary w-100 mb-2\",\n          onClick: () => sendMessage(\"login\"),\n          children: \"\\uD83D\\uDD10 Login / Register\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-outline-primary w-100\",\n          onClick: () => sendMessage(\"contact\"),\n          children: \"\\u260E Contact\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n}\n_s(ChatbotWindow, \"hMFdPyAc+URKCeDcUzbczHZpexs=\");\n_c = ChatbotWindow;\nexport default ChatbotWindow;\nvar _c;\n$RefreshReg$(_c, \"ChatbotWindow\");","map":{"version":3,"names":["useState","useEffect","sendMessageToBot","jsxDEV","_jsxDEV","ChatbotWindow","closeChat","_s","messages","setMessages","sender","text","loading","setLoading","isMobile","setIsMobile","checkScreen","window","innerWidth","addEventListener","removeEventListener","sendMessage","prev","reply","className","style","position","bottom","right","width","height","borderRadius","zIndex","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","overflowY","paddingBottom","map","msg","index","maxWidth","_c","$RefreshReg$"],"sources":["C:/Users/vigne/OneDrive/Documents/ITG/itkc/frontend/src/chatbot/ChatbotWindow.jsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { sendMessageToBot } from \"./chatbotApi\";\r\n\r\nfunction ChatbotWindow({ closeChat }) {\r\n  const [messages, setMessages] = useState([\r\n    { sender: \"bot\", text: \"Welcome to IT Knowledge Centre üëã How can I help you?\" }\r\n  ]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [isMobile, setIsMobile] = useState(false);\r\n\r\n  // Detect screen size\r\n  useEffect(() => {\r\n    const checkScreen = () => {\r\n      setIsMobile(window.innerWidth <= 768);\r\n    };\r\n\r\n    checkScreen();\r\n    window.addEventListener(\"resize\", checkScreen);\r\n\r\n    return () => window.removeEventListener(\"resize\", checkScreen);\r\n  }, []);\r\n\r\n  const sendMessage = async (text) => {\r\n    setMessages((prev) => [...prev, { sender: \"user\", text }]);\r\n    setLoading(true);\r\n\r\n    try {\r\n      const reply = await sendMessageToBot(text);\r\n      setMessages((prev) => [...prev, { sender: \"bot\", text: reply }]);\r\n    } catch {\r\n      setMessages((prev) => [\r\n        ...prev,\r\n        { sender: \"bot\", text: \"Something went wrong. Please try again.\" }\r\n      ]);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"card shadow\"\r\n      style={{\r\n        position: \"fixed\",\r\n        bottom: isMobile ? \"0\" : \"90px\",\r\n        right: isMobile ? \"0\" : \"20px\",\r\n        width: isMobile ? \"100%\" : \"360px\",\r\n        height: isMobile ? \"90vh\" : \"500px\",\r\n        borderRadius: isMobile ? \"0\" : \"12px\",\r\n        zIndex: 1100\r\n      }}\r\n    >\r\n      {/* Header */}\r\n      <div className=\"card-header bg-primary text-white d-flex justify-content-between align-items-center\">\r\n        <span>ITKC Assistant</span>\r\n        <button\r\n          className=\"btn btn-sm btn-light\"\r\n          onClick={closeChat}\r\n        >\r\n          ‚úï\r\n        </button>\r\n      </div>\r\n\r\n      {/* Body */}\r\n      <div\r\n        className=\"card-body\"\r\n        style={{\r\n          overflowY: \"auto\",\r\n          paddingBottom: \"80px\"\r\n        }}\r\n      >\r\n        {messages.map((msg, index) => (\r\n          <div\r\n            key={index}\r\n            className={`d-flex mb-2 ${\r\n              msg.sender === \"user\"\r\n                ? \"justify-content-end\"\r\n                : \"justify-content-start\"\r\n            }`}\r\n          >\r\n            <span\r\n              className={`px-3 py-2 rounded ${\r\n                msg.sender === \"user\"\r\n                  ? \"bg-primary text-white\"\r\n                  : \"bg-light\"\r\n              }`}\r\n              style={{ maxWidth: \"80%\" }}\r\n            >\r\n              {msg.text}\r\n            </span>\r\n          </div>\r\n        ))}\r\n\r\n        {loading && (\r\n          <div className=\"text-muted fst-italic\">\r\n            ITKC Assistant is typing...\r\n          </div>\r\n        )}\r\n\r\n        {/* Quick options */}\r\n        <div className=\"mt-3\">\r\n          <button\r\n            className=\"btn btn-outline-primary w-100 mb-2\"\r\n            onClick={() => sendMessage(\"courses\")}\r\n          >\r\n            üìò Courses\r\n          </button>\r\n          <button\r\n            className=\"btn btn-outline-primary w-100 mb-2\"\r\n            onClick={() => sendMessage(\"certificate\")}\r\n          >\r\n            üéì Certificates\r\n          </button>\r\n          <button\r\n            className=\"btn btn-outline-primary w-100 mb-2\"\r\n            onClick={() => sendMessage(\"login\")}\r\n          >\r\n            üîê Login / Register\r\n          </button>\r\n          <button\r\n            className=\"btn btn-outline-primary w-100\"\r\n            onClick={() => sendMessage(\"contact\")}\r\n          >\r\n            ‚òé Contact\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ChatbotWindow;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}